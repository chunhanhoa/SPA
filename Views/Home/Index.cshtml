@{
    ViewData["Title"] = "Trang chủ";
}

<div class="text-center">

    <!-- Hero Section -->
    <section class="hero-section position-relative overflow-hidden">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 hero-content" data-aos="fade-right" data-aos-duration="1000">
                    <h1 class="hero-title display-4 fw-bold mb-4 text-primary">Chào mừng đến với LoanSpa</h1>
                    <p class="hero-text lead mb-4">Trải nghiệm các dịch vụ chăm sóc sắc đẹp và thư giãn hàng đầu.</p>
                    <div class="d-flex flex-wrap gap-3">
                        <a href="#services" class="btn btn-primary btn-lg pulse-btn"><i
                                class="bi bi-search me-2"></i>Khám phá dịch vụ</a>
                        <a asp-controller="Home" asp-action="Booking" class="btn btn-outline-primary btn-lg"><i
                                class="bi bi-calendar-check me-2"></i>Đặt lịch ngay</a>
                    </div>
                </div>
                <div class="col-lg-6 hero-image" data-aos="fade-left" data-aos-duration="1000">
                    <img src="~/images/services/LoanSpa_Exterior.jpg" alt="Spa Relaxation"
                        class="img-fluid rounded-lg hero-img shadow">
                </div>
            </div>
        </div>
        <div class="custom-shape-divider-bottom">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path
                    d="M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z"
                    class="shape-fill"></path>
            </svg>
        </div>
    </section>

    <!-- Dịch vụ của chúng tôi -->
    <section class="section services-section" id="services" data-aos="fade-up" data-aos-duration="1000">
        <div class="container">
            <div class="section-title text-center">
                <h2 class="fw-bold display-5">Dịch vụ của chúng tôi</h2>
                <p class="section-subtitle text-muted mb-5">Khám phá các liệu pháp đặc biệt</p>
            </div>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4" id="featuredServicesContainer">
                <div class="col text-center">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Đang tải...</span>
                    </div>
                    <p class="mt-3">Đang tải dịch vụ...</p>
                </div>
            </div>
            <div class="text-center mt-5">
                <a asp-controller="Home" asp-action="Services" class="btn btn-primary btn-lg pulse-btn">
                    <i class="bi bi-arrow-right-circle me-2"></i>Xem tất cả dịch vụ
                </a>
            </div>
        </div>
    </section>

    <!-- Về chúng tôi -->
    <section class="section bg-light py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <img src="https://images.unsplash.com/photo-1600334089648-b0d9d3028eb2?auto=format&fit=crop&w=2340&q=80"
                        alt="About Our Spa" class="img-fluid">
                </div>
                <div class="col-lg-6">
                    <h2>Về chúng tôi</h2>
                    <p>LoanSpa là thiên đường thư giãn và làm đẹp hàng đầu, nơi bạn được tận hưởng những phút giây
                        thư thái trong không gian sang trọng và yên tĩnh.</p>
                    <p>Với đội ngũ chuyên viên giàu kinh nghiệm và các sản phẩm chăm sóc cao cấp, chúng tôi cam kết
                        mang đến cho khách hàng những trải nghiệm spa tuyệt vời nhất, giúp bạn tìm lại cân bằng và
                        năng lượng tích cực.</p>
                    <a asp-controller="Home" asp-action="About" class="btn btn-primary">Tìm hiểu thêm</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Đánh giá khách hàng -->
    <section class="section">
        <div class="container">
            <div class="section-title">
                <h2>Đánh giá từ khách hàng</h2>
                <p class="section-subtitle">Khách hàng nói gì về trải nghiệm tại LoanSpa</p>
            </div>

            <div class="row">
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="testimonial-item">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-text">"Dịch vụ massage tại đây thật sự tuyệt vời. Kỹ thuật viên rất chuyên
                            nghiệp và không gian rất thư thái. Tôi đã thư giãn hoàn toàn và sẽ quay lại sớm!"</p>
                        <p class="testimonial-author">- Nguyễn Thanh Hà</p>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="testimonial-item">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <p class="testimonial-text">"Liệu trình chăm sóc da mặt đã làm cho làn da của tôi trở nên tươi
                            sáng và khỏe mạnh hơn. Nhân viên rất tận tình và sản phẩm sử dụng rất chất lượng."</p>
                        <p class="testimonial-author">- Trần Minh Tuấn</p>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="testimonial-item">
                        <div class="testimonial-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <p class="testimonial-text">"Tắm thảo dược là trải nghiệm tuyệt vời nhất mà tôi từng có. Mùi
                            hương dịu nhẹ và cảm giác thư thái kéo dài cả ngày. Chắc chắn tôi sẽ giới thiệu cho bạn bè."
                        </p>
                        <p class="testimonial-author">- Phạm Thu Hương</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

</div>

@section Styles {
    <style>
        .service-item {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-radius: 15px;
            overflow: hidden;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            cursor: pointer;
            opacity: 0;
            transform: scale(0.9);
            transform-origin: left center;
        }

        .service-item.animate-scale {
            animation: scaleIn 0.6s ease forwards;
        }

        .service-item:hover,
        .service-item.clicked {
            transform: scale(1.03);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .service-item.clicked {
            transform: scale(0.97);
        }

        .card-img-top {
            object-fit: cover;
            height: 200px;
        }

        .card-body {
            flex-grow: 1;
        }

        @@keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.8) translateX(-50px);
            }

            to {
                opacity: 1;
                transform: scale(1) translateX(0);
            }
        }
    </style>
}

@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            AOS.init();
            loadFeaturedServices();
        });

        function loadFeaturedServices() {
            const container = document.getElementById("featuredServicesContainer");
            fetch('/api/ServiceApi/Featured')
                .then(res => res.json())
                .then(data => {
                    container.innerHTML = '';
                    data.forEach((service, index) => {
                        const delay = index * 150;
                        const col = document.createElement('div');
                        col.className = 'col';

                        const card = document.createElement('div');
                        card.className = 'card service-item';
                        card.innerHTML = `
                                <img src="${service.picture || '/images/service-default.jpg'}" class="card-img-top" alt="${service.title}" onerror="this.src='/images/service-default.jpg'">
                                <div class="card-body">
                                    <h5 class="card-title">${service.title}</h5>
                                    <p class="card-text">${(service.description || '').substring(0, 100)}...</p>
                                </div>
                                <div class="card-footer text-end">
                                    <strong>${new Intl.NumberFormat('vi-VN').format(service.price)} VNĐ</strong>
                                </div>`;

                        card.onclick = () => {
                            card.classList.add("clicked");
                            setTimeout(() => card.classList.remove("clicked"), 300);
                            window.location = `/Home/ServiceDetails/${service.id}`;
                        };

                        // Add animation class with stagger
                        setTimeout(() => {
                            card.classList.add("animate-scale");
                        }, delay);

                        col.appendChild(card);
                        container.appendChild(col);
                    });
                })
                .catch(error => {
                    console.error(error);
                    container.innerHTML = '<div class="col-12 text-center text-danger">Không thể tải dịch vụ nổi bật.</div>';
                });
        }
    </script>
}
