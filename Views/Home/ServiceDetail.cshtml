@model LoanSpa.Models.Service

@{
    ViewData["Title"] = Model.ServiceName;
    
    // Khởi tạo các biến
    string serviceName = Model.ServiceName;
    string serviceImage = string.IsNullOrEmpty(Model.Picture) ? "/images/services/default.jpg" : Model.Picture;
    string serviceDescription = Model.Description ?? "Mô tả đang được cập nhật.";
    string servicePrice = string.Format("{0:N0}", Model.Price) + " VNĐ";
    string serviceDuration = Model.Duration + " phút";
    string[] serviceBenefits = !string.IsNullOrEmpty(Model.Features) 
        ? Model.Features.Split(',', StringSplitOptions.RemoveEmptyEntries) 
        : new string[] { "Đang cập nhật thông tin" };
    string[] serviceProcess = !string.IsNullOrEmpty(Model.Process) 
        ? Model.Process.Split(',', StringSplitOptions.RemoveEmptyEntries) 
        : new string[] { "Đang cập nhật quy trình" };
    string serviceNote = Model.Notes ?? "Không có ghi chú đặc biệt.";
}

<div class="container py-5">
    <div class="row">
        <div class="col-lg-5">
            <img src="@serviceImage" alt="@serviceName" class="img-fluid rounded shadow-sm mb-4">
            
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-body">
                    <h5>Thông tin nhanh</h5>
                    <div class="d-flex justify-content-between mb-2">
                        <span>Giá:</span>
                        <span class="text-primary font-weight-bold">@servicePrice</span>
                    </div>
                    <div class="d-flex justify-content-between mb-3">
                        <span>Thời gian:</span>
                        <span>@serviceDuration</span>
                    </div>
                    <a href="@Url.Action("Booking", "Home", new { serviceId = Model.ServiceId })" class="btn btn-primary btn-block">Đặt lịch ngay</a>
                </div>
            </div>
        </div>
        
        <div class="col-lg-7">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb bg-transparent px-0">
                    <li class="breadcrumb-item"><a href="@Url.Action("Index", "Home")">Trang chủ</a></li>
                    <li class="breadcrumb-item"><a href="@Url.Action("Services", "Home")">Dịch vụ</a></li>
                    <li class="breadcrumb-item active" aria-current="page">@serviceName</li>
                </ol>
            </nav>
            
            <h1 class="mb-4">@serviceName</h1>
            
            <div class="service-description mb-5">
                <h4 class="mb-3">Mô tả</h4>
                <p>@serviceDescription</p>
            </div>
            
            <div class="service-benefits mb-5">
                <h4 class="mb-3">Lợi ích</h4>
                <ul>
                    @foreach (var benefit in serviceBenefits)
                    {
                        <li>@benefit</li>
                    }
                </ul>
            </div>
            
            <div class="service-process mb-5">
                <h4 class="mb-3">Quy trình thực hiện</h4>
                <ol>
                    @foreach (var step in serviceProcess)
                    {
                        <li>@step</li>
                    }
                </ol>
            </div>
            
            @if (!string.IsNullOrEmpty(serviceNote))
            {
                <div class="service-note alert alert-info">
                    <h5>Lưu ý:</h5>
                    <p class="mb-0">@serviceNote</p>
                </div>
            }
        </div>
    </div>
</div>
