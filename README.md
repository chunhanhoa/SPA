# LoanSpa - Há»‡ thá»‘ng quáº£n lÃ½ spa vÃ  Ä‘áº·t lá»‹ch

## Giá»›i thiá»‡u
LoanSpa lÃ  á»©ng dá»¥ng web quáº£n lÃ½ spa vÃ  Ä‘áº·t lá»‹ch toÃ n diá»‡n Ä‘Æ°á»£c phÃ¡t triá»ƒn báº±ng ASP.NET Core 9.0. Há»‡ thá»‘ng cung cáº¥p giáº£i phÃ¡p hoÃ n chá»‰nh cho viá»‡c quáº£n lÃ½ spa bao gá»“m Ä‘áº·t lá»‹ch trá»±c tuyáº¿n, quáº£n lÃ½ khÃ¡ch hÃ ng, nhÃ¢n viÃªn, dá»‹ch vá»¥, phÃ²ng, gháº¿ vÃ  há»‡ thá»‘ng thanh toÃ¡n.

## CÃ´ng nghá»‡ sá»­ dá»¥ng

### Backend
- **Framework**: ASP.NET Core 9.0 MVC
- **CÆ¡ sá»Ÿ dá»¯ liá»‡u**: Entity Framework Core vá»›i SQL Server
- **XÃ¡c thá»±c**: ASP.NET Core Identity + JWT Authentication
- **API Documentation**: Swagger/OpenAPI 3.0

### Frontend
- **UI Framework**: Bootstrap 5
- **JavaScript Libraries**: jQuery, DataTables
- **CSS**: Custom CSS vá»›i theme tÃ¹y chá»‰nh
- **Icons**: Bootstrap Icons

### Packages chÃ­nh
- Microsoft.AspNetCore.Authentication.JwtBearer 9.0.5
- Microsoft.AspNetCore.Identity.EntityFrameworkCore 9.0.5
- Microsoft.EntityFrameworkCore.SqlServer 9.0.5
- Swashbuckle.AspNetCore 6.5.0
- System.IdentityModel.Tokens.Jwt 8.12.0
- iTextSharp 5.5.13.3 (cho xuáº¥t PDF)

## TÃ­nh nÄƒng chÃ­nh

### ğŸ  Dashboard vÃ  Quáº£n lÃ½
- Dashboard tá»•ng quan vá»›i thá»‘ng kÃª real-time
- Quáº£n lÃ½ lá»‹ch háº¹n theo thá»i gian thá»±c
- BÃ¡o cÃ¡o doanh thu vÃ  thá»‘ng kÃª chi tiáº¿t

### ğŸ‘¥ Quáº£n lÃ½ NgÆ°á»i dÃ¹ng
- **Há»‡ thá»‘ng vai trÃ²**: Admin, Manager, User
- **XÃ¡c thá»±c**: ÄÄƒng kÃ½/ÄÄƒng nháº­p vá»›i JWT
- **Quáº£n lÃ½ há»“ sÆ¡**: Cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n
- **PhÃ¢n quyá»n**: Kiá»ƒm soÃ¡t truy cáº­p theo vai trÃ²

### ğŸ“… Quáº£n lÃ½ Äáº·t lá»‹ch
- **Äáº·t lá»‹ch trá»±c tuyáº¿n**: KhÃ¡ch hÃ ng cÃ³ thá»ƒ Ä‘áº·t lá»‹ch 24/7
- **Quáº£n lÃ½ tráº¡ng thÃ¡i**: Chá» xÃ¡c nháº­n â†’ ÄÃ£ xÃ¡c nháº­n â†’ Äang thá»±c hiá»‡n â†’ HoÃ n thÃ nh
- **Kiá»ƒm tra tÃ­nh kháº£ dá»¥ng**: Tá»± Ä‘á»™ng kiá»ƒm tra gháº¿ vÃ  thá»i gian trá»‘ng
- **XÃ¡c nháº­n tá»± Ä‘á»™ng**: Gá»­i thÃ´ng bÃ¡o xÃ¡c nháº­n qua email

### ğŸ¢ Quáº£n lÃ½ CÆ¡ sá»Ÿ váº­t cháº¥t
- **Quáº£n lÃ½ phÃ²ng**: ThÃªm, sá»­a, xÃ³a phÃ²ng
- **Quáº£n lÃ½ gháº¿**: Theo dÃµi tráº¡ng thÃ¡i gháº¿ (trá»‘ng/Ä‘Ã£ Ä‘áº·t)
- **Bá»‘ trÃ­ tá»‘i Æ°u**: Tá»± Ä‘á»™ng phÃ¢n bá»• gháº¿ cho khÃ¡ch hÃ ng

### ğŸ’¼ Quáº£n lÃ½ Dá»‹ch vá»¥
- **Danh má»¥c dá»‹ch vá»¥**: Massage, chÄƒm sÃ³c da, nail art, v.v.
- **GiÃ¡ vÃ  thá»i gian**: Quáº£n lÃ½ giÃ¡ dá»‹ch vá»¥ vÃ  thá»i gian thá»±c hiá»‡n
- **Combo dá»‹ch vá»¥**: Táº¡o gÃ³i dá»‹ch vá»¥ Æ°u Ä‘Ã£i

### ğŸ‘¤ Quáº£n lÃ½ KhÃ¡ch hÃ ng
- **Há»“ sÆ¡ khÃ¡ch hÃ ng**: LÆ°u trá»¯ thÃ´ng tin chi tiáº¿t
- **Lá»‹ch sá»­ sá»­ dá»¥ng**: Theo dÃµi lá»‹ch sá»­ Ä‘áº·t lá»‹ch vÃ  thanh toÃ¡n
- **ChÆ°Æ¡ng trÃ¬nh khÃ¡ch hÃ ng thÃ¢n thiáº¿t**: TÃ­ch Ä‘iá»ƒm vÃ  Æ°u Ä‘Ã£i

### ğŸ’° Há»‡ thá»‘ng Thanh toÃ¡n
- **HÃ³a Ä‘Æ¡n tá»± Ä‘á»™ng**: Tá»± Ä‘á»™ng táº¡o hÃ³a Ä‘Æ¡n sau khi Ä‘áº·t lá»‹ch
- **Quáº£n lÃ½ thanh toÃ¡n**: Theo dÃµi tráº¡ng thÃ¡i thanh toÃ¡n
- **BÃ¡o cÃ¡o doanh thu**: Thá»‘ng kÃª theo ngÃ y, thÃ¡ng, nÄƒm
- **Xuáº¥t PDF**: Xuáº¥t hÃ³a Ä‘Æ¡n Ä‘á»‹nh dáº¡ng PDF

## API Documentation

Dá»± Ã¡n Ä‘Æ°á»£c trang bá»‹ Swagger UI Ä‘áº§y Ä‘á»§ Ä‘á»ƒ test vÃ  document cÃ¡c API:

### CÃ¡c nhÃ³m API chÃ­nh:
- **Account API**: ÄÄƒng kÃ½, Ä‘Äƒng nháº­p, quáº£n lÃ½ tÃ i khoáº£n
- **Booking API**: Äáº·t lá»‹ch, quáº£n lÃ½ lá»‹ch háº¹n
- **Admin API**: CÃ¡c chá»©c nÄƒng quáº£n trá»‹ há»‡ thá»‘ng
- **Profile API**: Quáº£n lÃ½ há»“ sÆ¡ ngÆ°á»i dÃ¹ng
- **Role API**: Quáº£n lÃ½ vai trÃ² vÃ  phÃ¢n quyá»n

### Truy cáº­p Swagger UI:
- Development: `http://localhost:5000/swagger`
- Production: `https://domain.com/swagger` (náº¿u Ä‘Æ°á»£c cáº¥u hÃ¬nh)

## Cáº¥u trÃºc Dá»± Ã¡n

```
LoanSpa/
â”œâ”€â”€ Controllers/                    # MVC Controllers
â”‚   â”œâ”€â”€ HomeController.cs          # Trang chá»§ vÃ  cÃ¡c trang chÃ­nh
â”‚   â”œâ”€â”€ AccountController.cs       # XÃ¡c thá»±c vÃ  quáº£n lÃ½ tÃ i khoáº£n
â”‚   â”œâ”€â”€ AdminController.cs         # CÃ¡c chá»©c nÄƒng admin
â”‚   â””â”€â”€ API/                       # API Controllers
â”‚       â”œâ”€â”€ AccountApiController.cs
â”‚       â”œâ”€â”€ BookingApiController.cs
â”‚       â”œâ”€â”€ ProfileApiController.cs
â”‚       â””â”€â”€ RoleApiController.cs
â”œâ”€â”€ Models/                        # Data Models
â”‚   â”œâ”€â”€ Appointment.cs             # Model lá»‹ch háº¹n
â”‚   â”œâ”€â”€ Customer.cs                # Model khÃ¡ch hÃ ng
â”‚   â”œâ”€â”€ Service.cs                 # Model dá»‹ch vá»¥
â”‚   â”œâ”€â”€ Room.cs                    # Model phÃ²ng
â”‚   â”œâ”€â”€ Chair.cs                   # Model gháº¿
â”‚   â””â”€â”€ Invoice.cs                 # Model hÃ³a Ä‘Æ¡n
â”œâ”€â”€ Views/                         # Razor Views
â”‚   â”œâ”€â”€ Home/                      # Trang chá»§
â”‚   â”œâ”€â”€ Account/                   # XÃ¡c thá»±c
â”‚   â”œâ”€â”€ Admin/                     # Quáº£n trá»‹
â”‚   â””â”€â”€ Shared/                    # Layout vÃ  partial views
â”œâ”€â”€ wwwroot/                       # Static Files
â”‚   â”œâ”€â”€ css/                       # CSS files
â”‚   â”œâ”€â”€ js/                        # JavaScript files
â”‚   â””â”€â”€ images/                    # Images
â”œâ”€â”€ Data/                          # Database Context
â”‚   â”œâ”€â”€ SpaDbContext.cs           # Entity Framework Context
â”‚   â””â”€â”€ Scripts/                   # Database scripts
â”œâ”€â”€ Services/                      # Business Logic Services
â”‚   â”œâ”€â”€ JwtService.cs             # JWT token service
â”‚   â”œâ”€â”€ RoleInitializer.cs        # Role initialization
â”‚   â””â”€â”€ AvailabilityService.cs    # Kiá»ƒm tra tÃ­nh kháº£ dá»¥ng
â”œâ”€â”€ Extensions/                    # Extension Methods
â”‚   â””â”€â”€ SwaggerExtensions.cs      # Swagger configuration
â””â”€â”€ Migrations/                    # EF Core Migrations
```

## HÆ°á»›ng dáº«n CÃ i Ä‘áº·t

### YÃªu cáº§u Há»‡ thá»‘ng
- **.NET 9.0 SDK**
- **SQL Server 2019** trá»Ÿ lÃªn (hoáº·c SQL Server Express)
- **Visual Studio 2022** hoáº·c **VS Code**
- **Node.js** (tÃ¹y chá»n, cho cÃ¡c tool frontend)

### CÃ¡c BÆ°á»›c CÃ i Ä‘áº·t

1. **Clone Repository**
```bash
git clone <repository-url>
cd SPA
```

2. **KhÃ´i phá»¥c Packages**
```bash
dotnet restore
```

3. **Cáº¥u hÃ¬nh Database**
   - Má»Ÿ `appsettings.json`
   - Cáº­p nháº­t connection string:
```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Server=(localdb)\\mssqllocaldb;Database=LoanSpaDb;Trusted_Connection=true;"
  }
}
```

4. **Cháº¡y Migration**
```bash
dotnet ef database update
```

5. **Cháº¡y á»¨ng dá»¥ng**
```bash
dotnet run
```

6. **Truy cáº­p á»¨ng dá»¥ng**
   - Web: `https://localhost:5001`
   - API Documentation: `https://localhost:5001/swagger`

### TÃ i khoáº£n Máº·c Ä‘á»‹nh
Sau khi cháº¡y láº§n Ä‘áº§u, há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng táº¡o:
- **Username**: admin
- **Email**: admin@example.com  
- **Password**: Admin123!
- **Role**: Admin

## Cáº¥u hÃ¬nh MÃ´i trÆ°á»ng

### Development
```json
{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "SwaggerSettings": {
    "ShowInProduction": false
  }
}
```

### Production
```json
{
  "Logging": {
    "LogLevel": {
      "Default": "Warning"
    }
  },
  "SwaggerSettings": {
    "ShowInProduction": true
  }
}
```

## TÃ­nh nÄƒng NÃ¢ng cao

### JWT Authentication
- Token tá»± Ä‘á»™ng refresh
- LÆ°u trá»¯ token trong HttpOnly cookies
- Thá»i gian háº¿t háº¡n cÃ³ thá»ƒ cáº¥u hÃ¬nh

### Real-time Updates
- Cáº­p nháº­t tráº¡ng thÃ¡i lá»‹ch háº¹n theo thá»i gian thá»±c
- ThÃ´ng bÃ¡o tá»©c thÃ¬ cho admin vÃ  khÃ¡ch hÃ ng

### Responsive Design
- Giao diá»‡n thÃ¢n thiá»‡n trÃªn mobile
- Tá»‘i Æ°u cho tablet vÃ  desktop


